{"version":3,"sources":["webpack:///./src/components/CustomFluidImage.js","webpack:///./node_modules/object-fit-images/dist/ofi.common-js.js","webpack:///./node_modules/gatsby-image/withIEPolyfill/index.js"],"names":["CustomFluidImage","imgName","ref","style","width","height","query","render","data","image","allImageSharp","edges","find","edge","node","fluid","originalName","newStyle","maxHeight","maxWidth","OFI","propRegex","testImg","Image","supportsObjectFit","supportsObjectPosition","supportsOFI","supportsCurrentSrc","currentSrc","nativeGetAttribute","getAttribute","nativeSetAttribute","setAttribute","autoModeEnabled","setPlaceholder","img","placeholder","call","onImageReady","callback","naturalWidth","setTimeout","fixOne","el","parsed","getComputedStyle","fontFamily","props","exec","getStyle","ofi","skipTest","srcset","src","naturalHeight","descriptors","get","prop","set","value","Object","defineProperty","ss","keepSrcUsable","err","window","console","warn","picturefill","pf","_","ns","evaled","fillImg","reselect","curSrc","supported","polyfillCurrentSrc","backgroundImage","replace","backgroundPosition","backgroundRepeat","backgroundOrigin","test","backgroundSize","fix","imgs","opts","startAutoMode","document","getElementsByTagName","querySelectorAll","i","length","body","addEventListener","e","target","tagName","watchMQ","bind","getOfiImageMaybe","name","HTMLImageElement","prototype","this","String","hijackAttributes","module","exports","_interopRequireWildcard3","require","_interopRequireDefault","__esModule","default","_extends2","_objectWithoutPropertiesLoose2","_interopRequireWildcard2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","_react","_propTypes","_index","ImageWithIEPolyfill","_Component","_this","_len","arguments","args","Array","_key","apply","concat","innerRef","createRef","_proto","componentDidMount","_this2","createElement","objectFit","objectPosition","Promise","resolve","then","_ref","ObjectFitImages","imageRef","current","placeholderRef","_this$props","polyfillStyle","imgStyle","placeholderStyle","Component","propTypes","string","defaultProps","_default","forwardRef"],"mappings":"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","file":"5cb55ef11978f123a5e636b5204c371e2c7223bf-d073856f1dcf3d22c96e.js","sourcesContent":["import Img from \"gatsby-image/withIEPolyfill\"\nimport React from 'react'\nimport { StaticQuery, graphql } from 'gatsby'\n\n\n// export default ({ data }) => (\n//   <div>\n//     <h1>hi</h1>\n//     <Img\n//       fixed={data.file.childImageSharp.fixed}\n//       objectFit=\"cover\"\n//       objectPosition=\"50% 50%\"\n//       alt=\"\"\n//     />\n//   </div>\n// )\nconst CustomFluidImage = ({ imgName, ref, style = {}, width = '100%', height = '100%', ...rest}) => (\n    <StaticQuery\n      query={graphql`\n        query {\n          allImageSharp {\n            edges {\n              node {\n                fluid(maxWidth: 500) {\n                  ...GatsbyImageSharpFluid\n                  originalName\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => {\n        const image = data.allImageSharp.edges.find(\n          edge => edge.node.fluid.originalName === imgName\n        )\n        if (!image) {\n          return null\n        }\n\n        // (<div>\n        //     <h1>hi</h1>\n        //     <Img\n        //       fixed={data.file.childImageSharp.fixed}\n        //       objectFit=\"cover\"\n        //       objectPosition=\"50% 50%\"\n        //       alt=\"\"\n        //     />\n        // </div>)\n         \n        const newStyle = { ...style }\n       \n        if (width === '' && height !== '') {\n          newStyle.maxHeight = height\n          return <Img fluid={image.node.fluid} style={newStyle}/>\n        }\n        if (height === '' && width !== '') {\n          newStyle.maxWidth = width\n          return <Img fluid={image.node.fluid} style={newStyle}/>  \n        }\n        if (height === '' && width === '') {\n          return <Img fluid={image.node.fluid} style={newStyle} />  \n        }\n        newStyle.maxHeight = height\n        newStyle.maxWidth = width\n       \n\n        return <Img fluid={image.node.fluid} style={newStyle}/>\n      }}\n    />\n  )\n  export default CustomFluidImage\n\n// export const query = graphql`\n//   query {\n//     file(relativePath: { eq: \"../images/iConsultLogo.png\" }) {\n//       childImageSharp {\n//         # Specify the image processing specifications right in the query.\n//         # Makes it trivial to update as your page's design changes.\n//         fixed(width: 125, height: 125) {\n//           ...GatsbyImageSharpFixed\n//         }\n//       }\n//     }\n//   }\n// `\n","/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {\n  style: {\n    'object-position': 1\n  }\n} : new Image();\nvar supportsObjectFit = ('object-fit' in testImg.style);\nvar supportsObjectPosition = ('object-position' in testImg.style);\nvar supportsOFI = ('background-size' in testImg.style);\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n  return \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\";\n}\n\nfunction polyfillCurrentSrc(el) {\n  if (el.srcset && !supportsCurrentSrc && window.picturefill) {\n    var pf = window.picturefill._; // parse srcset with picturefill where currentSrc isn't available\n\n    if (!el[pf.ns] || !el[pf.ns].evaled) {\n      // force synchronous srcset parsing\n      pf.fillImg(el, {\n        reselect: true\n      });\n    }\n\n    if (!el[pf.ns].curSrc) {\n      // force picturefill to parse srcset\n      el[pf.ns].supported = false;\n      pf.fillImg(el, {\n        reselect: true\n      });\n    } // retrieve parsed currentSrc, if any\n\n\n    el.currentSrc = el[pf.ns].curSrc || el.src;\n  }\n}\n\nfunction getStyle(el) {\n  var style = getComputedStyle(el).fontFamily;\n  var parsed;\n  var props = {};\n\n  while ((parsed = propRegex.exec(style)) !== null) {\n    props[parsed[1]] = parsed[2];\n  }\n\n  return props;\n}\n\nfunction setPlaceholder(img, width, height) {\n  // Default: fill width, no height\n  var placeholder = createPlaceholder(width || 1, height || 0); // Only set placeholder if it's different\n\n  if (nativeGetAttribute.call(img, 'src') !== placeholder) {\n    nativeSetAttribute.call(img, 'src', placeholder);\n  }\n}\n\nfunction onImageReady(img, callback) {\n  // naturalWidth is only available when the image headers are loaded,\n  // this loop will poll it every 100ms.\n  if (img.naturalWidth) {\n    callback(img);\n  } else {\n    setTimeout(onImageReady, 100, img, callback);\n  }\n}\n\nfunction fixOne(el) {\n  var style = getStyle(el);\n  var ofi = el[OFI];\n  style['object-fit'] = style['object-fit'] || 'fill'; // default value\n  // Avoid running where unnecessary, unless OFI had already done its deed\n\n  if (!ofi.img) {\n    // fill is the default behavior so no action is necessary\n    if (style['object-fit'] === 'fill') {\n      return;\n    } // Where object-fit is supported and object-position isn't (Safari < 10)\n\n\n    if (!ofi.skipTest && // unless user wants to apply regardless of browser support\n    supportsObjectFit && // if browser already supports object-fit\n    !style['object-position'] // unless object-position is used\n    ) {\n        return;\n      }\n  } // keep a clone in memory while resetting the original to a blank\n\n\n  if (!ofi.img) {\n    ofi.img = new Image(el.width, el.height);\n    ofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n    ofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src; // preserve for any future cloneNode calls\n    // https://github.com/bfred-it/object-fit-images/issues/53\n\n    nativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\n    if (el.srcset) {\n      nativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n    }\n\n    setPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height); // remove srcset because it overrides src\n\n    if (el.srcset) {\n      el.srcset = '';\n    }\n\n    try {\n      keepSrcUsable(el);\n    } catch (err) {\n      if (window.console) {\n        console.warn('https://bit.ly/ofi-old-browser');\n      }\n    }\n  }\n\n  polyfillCurrentSrc(ofi.img);\n  el.style.backgroundImage = \"url(\\\"\" + (ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"') + \"\\\")\";\n  el.style.backgroundPosition = style['object-position'] || 'center';\n  el.style.backgroundRepeat = 'no-repeat';\n  el.style.backgroundOrigin = 'content-box';\n\n  if (/scale-down/.test(style['object-fit'])) {\n    onImageReady(ofi.img, function () {\n      if (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n        el.style.backgroundSize = 'contain';\n      } else {\n        el.style.backgroundSize = 'auto';\n      }\n    });\n  } else {\n    el.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n  }\n\n  onImageReady(ofi.img, function (img) {\n    setPlaceholder(el, img.naturalWidth, img.naturalHeight);\n  });\n}\n\nfunction keepSrcUsable(el) {\n  var descriptors = {\n    get: function get(prop) {\n      return el[OFI].img[prop ? prop : 'src'];\n    },\n    set: function set(value, prop) {\n      el[OFI].img[prop ? prop : 'src'] = value;\n      nativeSetAttribute.call(el, \"data-ofi-\" + prop, value); // preserve for any future cloneNode\n\n      fixOne(el);\n      return value;\n    }\n  };\n  Object.defineProperty(el, 'src', descriptors);\n  Object.defineProperty(el, 'currentSrc', {\n    get: function get() {\n      return descriptors.get('currentSrc');\n    }\n  });\n  Object.defineProperty(el, 'srcset', {\n    get: function get() {\n      return descriptors.get('srcset');\n    },\n    set: function set(ss) {\n      return descriptors.set(ss, 'srcset');\n    }\n  });\n}\n\nfunction hijackAttributes() {\n  function getOfiImageMaybe(el, name) {\n    return el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n  }\n\n  if (!supportsObjectPosition) {\n    HTMLImageElement.prototype.getAttribute = function (name) {\n      return nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n    };\n\n    HTMLImageElement.prototype.setAttribute = function (name, value) {\n      return nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n    };\n  }\n}\n\nfunction fix(imgs, opts) {\n  var startAutoMode = !autoModeEnabled && !imgs;\n  opts = opts || {};\n  imgs = imgs || 'img';\n\n  if (supportsObjectPosition && !opts.skipTest || !supportsOFI) {\n    return false;\n  } // use imgs as a selector or just select all images\n\n\n  if (imgs === 'img') {\n    imgs = document.getElementsByTagName('img');\n  } else if (typeof imgs === 'string') {\n    imgs = document.querySelectorAll(imgs);\n  } else if (!('length' in imgs)) {\n    imgs = [imgs];\n  } // apply fix to all\n\n\n  for (var i = 0; i < imgs.length; i++) {\n    imgs[i][OFI] = imgs[i][OFI] || {\n      skipTest: opts.skipTest\n    };\n    fixOne(imgs[i]);\n  }\n\n  if (startAutoMode) {\n    document.body.addEventListener('load', function (e) {\n      if (e.target.tagName === 'IMG') {\n        fix(e.target, {\n          skipTest: opts.skipTest\n        });\n      }\n    }, true);\n    autoModeEnabled = true;\n    imgs = 'img'; // reset to a generic selector for watchMQ\n  } // if requested, watch media queries for object-fit change\n\n\n  if (opts.watchMQ) {\n    window.addEventListener('resize', fix.bind(null, imgs, {\n      skipTest: opts.skipTest\n    }));\n  }\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\nhijackAttributes();\nmodule.exports = fix;","\"use strict\";\n\nvar _interopRequireWildcard3 = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _interopRequireWildcard2 = _interopRequireDefault(require(\"@babel/runtime/helpers/interopRequireWildcard\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard3(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar ImageWithIEPolyfill = /*#__PURE__*/function (_Component) {\n  (0, _inheritsLoose2.default)(ImageWithIEPolyfill, _Component);\n\n  function ImageWithIEPolyfill() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"imageRef\", _this.props.innerRef || (0, _react.createRef)());\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"placeholderRef\", (0, _react.createRef)());\n    return _this;\n  }\n\n  var _proto = ImageWithIEPolyfill.prototype;\n\n  // Load object-fit/position polyfill if required (e.g. in IE)\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var testImg = document.createElement(\"img\");\n\n    if (typeof testImg.style.objectFit === \"undefined\" || typeof testImg.style.objectPosition === \"undefined\") {\n      Promise.resolve().then(function () {\n        return (0, _interopRequireWildcard2.default)(require(\"object-fit-images\"));\n      }).then(function (_ref) {\n        var ObjectFitImages = _ref.default;\n        ObjectFitImages(_this2.imageRef.current.imageRef.current);\n        ObjectFitImages(_this2.placeholderRef.current);\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        objectFit = _this$props.objectFit,\n        objectPosition = _this$props.objectPosition,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"objectFit\", \"objectPosition\"]);\n    var polyfillStyle = {\n      objectFit: objectFit,\n      objectPosition: objectPosition,\n      fontFamily: \"\\\"object-fit: \" + objectFit + \"; object-position: \" + objectPosition + \"\\\"\"\n    };\n    return /*#__PURE__*/_react.default.createElement(_index.default, (0, _extends2.default)({\n      ref: this.imageRef,\n      placeholderRef: this.placeholderRef\n    }, props, {\n      imgStyle: (0, _extends2.default)({}, props.imgStyle, {}, polyfillStyle),\n      placeholderStyle: (0, _extends2.default)({}, props.placeholderStyle, {}, polyfillStyle)\n    }));\n  };\n\n  return ImageWithIEPolyfill;\n}(_react.Component); // If you modify these propTypes, please don't forget to update following files as well:\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/withIEPolyfill/index.d.ts\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/README.md#gatsby-image-props\n// https://github.com/gatsbyjs/gatsby/blob/master/docs/docs/gatsby-image.md#gatsby-image-props\n\n\nImageWithIEPolyfill.propTypes = {\n  objectFit: _propTypes.default.string,\n  objectPosition: _propTypes.default.string\n};\nImageWithIEPolyfill.defaultProps = {\n  objectFit: \"cover\",\n  objectPosition: \"50% 50%\"\n};\n\nvar _default = (0, _react.forwardRef)(function (props, ref) {\n  return /*#__PURE__*/_react.default.createElement(ImageWithIEPolyfill, (0, _extends2.default)({}, props, {\n    innerRef: ref\n  }));\n});\n\nexports.default = _default;"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"5rFP":function(e,t,o){"use strict";o.r(t),o.d(t,"pageQuery",(function(){return N}));o("E5k/");var n=o("q1tI"),a=o.n(n),i=o("Bl7J"),r=(o("zDcZ"),o("R/WZ")),l=o("tRbT"),s=(o("ILeL"),o("3ksh"),o("r5vi")),E=o("xvYo"),c=o("C/KN"),d=(o("5lfk"),o("7TWv")),R=o("ooR/"),_=o("mwIZ"),T=o.n(_),C=o("a5sw"),O=o("itCy"),u=o("tzB8"),S=Object(r.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var A=function(e){var t,o=e.type,n=void 0===o?O.t.QUESTION_POSED:o,i=e.resources,r=e.navigationLeftHandler,s=e.navigationRightHandler,d=e.dogChoice,R=[];i.field_buttonlinks&&i.field_buttonlinks.length>0&&(R=i.field_buttonlinks);var _={};switch(n){case O.t.ANSWER_WITH_VIDEO:case O.t.ANSWER_NO_VIDEO:var T="yes"===i.field_iscorrectanswer[0];R=[{}],!1===T&&(R[0].id=O.o.QUESTION_POSED,R[0].title="Try again",R[0].url="/",R[0].onClickHandler=s,R[0].buttonType=O.l.DARK_BLUE_ROUNDED),_={useVideoWidget:T,isCorrectAnswer:i.field_iscorrectanswer[0],answerHeader:Object(C.m)(Object(C.l)(i.field_answerheader?i.field_answerheader:""),d),answerText:Object(C.m)(Object(C.l)(i.field_answertext?i.field_answertext.processed:""),d),additionalText:Object(C.m)(Object(C.l)(i.field_additionalbodytext?i.field_additionalbodytext.processed:""),d),videoText1:i.field_videocaptiontext1,buttonLinks:R};break;case O.t.QUESTION_POSED:(R=[{},{},{},{},{},{}])[0].id=O.o.CORRECT_ANSWER_RECHECK,R[0].title="Recheck in 6–12 months",R[0].url="/",R[1].id=O.o.INCORRECT_ALL_CLEAR,R[1].title="Give the ‘all clear’",R[1].url="/",R[2].id=O.o.CORRECT_ANSWER_START_TREATMENT,R[2].title="Start treatment",R[2].url="/",_={useVideoWidget:!1,questionText:i.field_questiontext,headerText:i.field_questiontext,additionalText:i.field_additionalbodytext,videoText1:i.field_videocaptiontext1,buttonLinks:R};break;default:return"type not found"}var S=a.a.createRef();return a.a.createElement("section",null,a.a.createElement(l.a,((t={container:!0,spacing:0}).spacing=0,t.justify="center",t.style={border:"0px solid black"},t),a.a.createElement(l.a,{item:!0,xs:12,sm:1,align:"left",style:{border:"0px solid red"}}),a.a.createElement(l.a,{item:!0,xs:12,sm:5,align:"center",style:{border:"0px solid red"}},a.a.createElement(u.a,{autoPlay:"true",ref:S,data:_})),a.a.createElement(l.a,{item:!0,xs:12,sm:5,align:"left",style:{border:"0px solid red"}},n===O.t.QUESTION_POSED?a.a.createElement(c.a,{data:_,currentSlidePosition:0,onClickHandler:s,dogChoice:d,useVideoWidget:_.useVideoWidget}):"",n===O.t.ANSWER_WITH_VIDEO||n===O.t.ANSWER_NO_VIDEO?a.a.createElement(E.a,{data:_,currentSlidePosition:0,onClickHandler:r,dogChoice:d,useVideoWidget:_.useVideoWidget}):""),a.a.createElement(l.a,{item:!0,xs:12,sm:1,align:"left",style:{border:"0px solid red"}})))};t.default=function(e){var t=e.data,o=Object(s.a)([O.e.DOG_CHOICE,O.e.CASESTUDYS_ALL]),r=o[0],l=o[1],E=(o[2],r.dogChoice?r.dogChoice:O.f.DUDLEY),c={step:O.o.QUESTION_POSED},_=Object(n.useState)(c),u=_[0],N=_[1];Object(n.useEffect)((function(){if(u.step===O.o.CORRECT_ANSWER_RECHECK||u.step===O.o.CORRECT_ANSWER_START_TREATMENT){var e=Object(d.e)(O.u.NEXT_STEPS,E,r);console.log("============= "+e+" ============="),l(O.e.CASESTUDYS_ALL,e,{path:"/"})}}),[u.step]);var f=T()(t,"allNodeQuestion.nodes"),g=T()(t,"allNodeAnswer.nodes"),p=null;switch(u.step){case O.o.QUESTION_POSED:p=Object(C.f)(f,O.n.QUESTION_POSED);break;case O.o.CORRECT_ANSWER_RECHECK:p=Object(C.f)(g,O.n.CORRECT_ANSWER_RECHECK);case O.o.CORRECT_ANSWER_START_TREATMENT:p=Object(C.f)(g,O.n.CORRECT_ANSWER_START_TREATMENT);break;case O.o.INCORRECT_ALL_CLEAR:p=Object(C.f)(g,O.n.INCORRECT_ALL_CLEAR);break;default:return"no current slide"}if(console.log("=========== current Step - step ",u.step),console.log(p),!p)return"resources not found";if("NO_DATA_FOUND"==p)return"resources not found";var b=function(e){console.log("=========== setCurrentStep - step ",e),N(Object.assign(Object.assign({},u),{},{step:e}))},m=function(e){console.log("handleLeftClick")},h=function(e){console.log("handleRightClick")};return void 0===p||null==typeof p?a.a.createElement(i.a,{headerText:"SORRY TEMPORARILY UNAVAILABLE",showPercentIndicator:!0},a.a.createElement(R.a,{to:"/",distanceFromSide:"2%",bottom:"2%",linkText:"Home"})):a.a.createElement(i.a,{headerText:Object(C.m)("Poppy has a grade 3 mitral valve murmur",E),showPercentIndicator:!0},O.o.CORRECT_ANSWER_RECHECK===u.step||O.o.CORRECT_ANSWER_START_TREATMENT===u.step?a.a.createElement(R.a,{to:"/which-treatment/",distanceFromSide:"2%",bottom:"2%",direction:O.c.FORWARD,linkText:"Continue"}):"",a.a.createElement("div",{className:S().root,style:{position:"relative",zIndex:"1 !important"}},O.o.QUESTION_POSED===u.step?a.a.createElement(A,{type:O.t.QUESTION_POSED,resources:p,dogChoice:E,navigationLeftHandler:m,navigationRightHandler:function(e){if(e.currentTarget.id)switch(e.currentTarget.id){case O.o.CORRECT_ANSWER_RECHECK:b(O.o.CORRECT_ANSWER_RECHECK);break;case O.o.CORRECT_ANSWER_START_TREATMENT:b(O.o.CORRECT_ANSWER_START_TREATMENT);break;case O.o.CORRECT_ANSWER_XRAY_ONLY:b(O.o.INCORRECT_ALL_CLEAR);break;default:console.log("no matching id on question button"),b(O.o.QUESTION_POSED)}else console.log("no id on question button"),b(O.o.QUESTION_POSED)}}):"",O.o.CORRECT_ANSWER_RECHECK===u.step?a.a.createElement(A,{type:O.t.ANSWER_WITH_VIDEO,resources:p,dogChoice:E,navigationLeftHandler:m,navigationRightHandler:h}):"",O.o.CORRECT_ANSWER_START_TREATMENT===u.step?a.a.createElement(A,{type:O.t.ANSWER_WITH_VIDEO,resources:p,dogChoice:E,navigationLeftHandler:m,navigationRightHandler:h}):"",O.o.INCORRECT_ALL_CLEAR===u.step?a.a.createElement(A,{type:O.t.ANSWER_NO_VIDEO,resources:p,dogChoice:E,navigationLeftHandler:m,navigationRightHandler:function(e){N(Object.assign(Object.assign({},u),{},{step:O.o.QUESTION_POSED}))}}):""))};var N="3124856518"}}]);
//# sourceMappingURL=component---src-pages-next-steps-js-1508bc86726358bd4fbb.js.map
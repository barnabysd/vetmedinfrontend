{"version":3,"sources":["webpack:///./src/pages/which-treatment.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","WhichTreatmentQuestionResponseLayout","type","slideTypes","QUESTION_POSED","resources","navigationLeftHandler","navigationRightHandler","dogChoice","buttonLinks","field_buttonlinks","length","console","log","resourcesProcessed","ANSWER_WITH_VIDEO","ANSWER_NO_VIDEO","field_iscorrectanswer","id","whichTreatmentSteps","title","url","onClickHandler","buttonType","legacyButtonTypes","DARK_BLUE_ROUNDED","videoData","getVideoData","questionText","answerHeader","field_answerheader","processField","answerText","field_answertext","additionalText","field_additionalbodytext","isCorrectAnswer","mainImage","getDogImageName","animationCharacterState","HAPPY","slugName","whichTreatmentSlugNames","CORRECT_VETMEDIN","continueLink","uri","backLink","accessibilityVideoText","updateSlideDataWithVideoData","INCORRECT_ANSWER_ALL_DIURETICS","INCORRECT_ANSWER_SPIRO","INCORRECT_ANSWER_ACE","videoDataB","field_questiontext","animationVideoName","getDogVideo","NEUTRAL","isCorrect1","field_optioniscorrect1","optionsHeader1","field_optionsheader1","optionsBodyText1","field_optionsbodytext1","isCorrect2","field_optioniscorrect2","optionsHeader2","optionsBodyText2","field_optionsbodytext2","isCorrect3","field_optioniscorrect3","optionsHeader3","optionsBodyText3","field_optionsbodytext3","isCorrect4","field_optioniscorrect4","optionsHeader4","optionsBodyText4","field_optionsbodytext4","isCorrect5","field_optioniscorrect5","optionsHeader5","optionsBodyText5","field_optionsbodytext5","isCorrect6","field_optioniscorrect6","optionsHeader6","optionsBodyText6","field_optionsbodytext6","ref","React","createRef","container","justify","style","border","item","xs","sm","align","autoPlay","data","currentSlidePosition","useVideoWidget","NextSteps","useCookies","cookieKeyNames","DOG_CHOICE","CASESTUDYS_ALL","cookies","setCookie","dogName","DUDLEY","initialState","step","useState","state","setState","useEffect","newCaseStudyProgress","setCaseStudyProgress","tasks","WHICH_TREATMENT","path","resourcesAr","get","resourcesAnswersAr","getSlideData","setCurrentStep","tryAgain","e","handleLeftClick","headerText","showPercentIndicator","to","distanceFromSide","bottom","linkText","replaceDogName","direction","bottomNavigationLinkDirection","FORWARD","className","position","zIndex","currentTarget","pageQuery"],"mappings":"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","file":"component---src-pages-which-treatment-js-f7e6923bd9548ed48ce8.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Layout from '../components/layout'\nimport theme from \"../theme\"\n// import ReactPlayer from \"react-player\"\n\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport Grid from '@material-ui/core/Grid'\n\nimport CaseStudyLeftArrow from \"../components/CaseStudyLeftArrow\"\nimport CaseStudyRightArrow from \"../components/CaseStudyRightArrow\"\nimport { useCookies } from 'react-cookie'\nimport QuestionResponse from \"../components/QuestionResponse\"\nimport QuestionPosed from \"../components/QuestionPosed\"\nimport ResponseVideo from \"../components/ResponseVideo\"\n\nimport BottomNavigationLink from \"../components/BottomNavigationLink\"\n\nimport get from \"lodash/get\"\nimport { graphql } from \"gatsby\"\nimport { stripUneededHtml, getSlideData, replaceDogName, removeParagraphsTags, processField } from \"../utils/displayUtils\"\nimport { dogName, \n  ownerName, \n  ownerResponseSteps, \n  cookieKeyNames, \n  animationCharacterState,\n  tasks, \n  slideTypes,\n  whichTreatmentSlugNames,\n  bottomNavigationLinkDirection,\n  whichTreatmentSteps,\n  legacyButtonTypes\n} from \"../WebsiteConstants\"\nimport FixedSizeVideoWidget from \"../components/FixedSizeVideoWidget\"\nimport { setCaseStudyProgress, getVideoData, updateSlideDataWithVideoData } from \"../utils/dataUtils\"\nimport { getDogImageName, getDogVideo } from \"../utils/assetUtils\"\n\n//NB: - useEffect(() - very good reference https://dev.to/spukas/4-ways-to-useeffect-pf6\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n}));\n\nfunction NextSteps({data}) {\n\n   // =================== GET GLOBAL DATA ==================\n\n  const [cookies, setCookie, removeCookie] = useCookies([cookieKeyNames.DOG_CHOICE,cookieKeyNames.CASESTUDYS_ALL])\n  const dogChoice = cookies[\"dogChoice\"] ? cookies[\"dogChoice\"] : dogName.DUDLEY\n\n  // =================== SETUP STATE ==================\n\n  const initialState = { step: whichTreatmentSteps.QUESTION_POSED }\n  const [state, setState] = useState(initialState)\n\n  // =================== CHECK COMPLETION STATUS ==================\n\n  useEffect(() => {\n    if (state.step === whichTreatmentSteps.CORRECT_VETMEDIN) { \n        const newCaseStudyProgress = setCaseStudyProgress(tasks.WHICH_TREATMENT,dogChoice,cookies)\n        console.log(\"============= \" + newCaseStudyProgress + \" =============\")\n        setCookie(cookieKeyNames.CASESTUDYS_ALL,newCaseStudyProgress,{ path: '/' })  \n    }\n  },[state.step])  \n\n  // =================== GET PAGES DATA ==================\n\n  const resourcesAr = get(data, 'allNodeQuestion.nodes')\n  const resourcesAnswersAr = get(data, 'allNodeAnswer.nodes')\n\n  let resources = null\n        \n  switch (state.step) {\n      case whichTreatmentSteps.QUESTION_POSED:\n        resources = getSlideData(resourcesAr,whichTreatmentSlugNames.QUESTION_POSED)\n        break\n      case whichTreatmentSteps.CORRECT_VETMEDIN:\n        resources = getSlideData(resourcesAnswersAr,whichTreatmentSlugNames.CORRECT_VETMEDIN)\n        break\n      case whichTreatmentSteps.INCORRECT_ANSWER_ACE:\n        resources = getSlideData(resourcesAnswersAr,whichTreatmentSlugNames.INCORRECT_ANSWER_ACE)\n        break\n      case whichTreatmentSteps.INCORRECT_ANSWER_SPIRO:\n            resources = getSlideData(resourcesAnswersAr,whichTreatmentSlugNames.INCORRECT_ANSWER_SPIRO)\n            break\n      case whichTreatmentSteps.INCORRECT_ANSWER_ALL_DIURETICS:\n        resources = getSlideData(resourcesAnswersAr,whichTreatmentSlugNames.INCORRECT_ANSWER_ALL_DIURETICS)\n        break\n    default:\n      return \"no current slide\"\n  }\n  console.log(\"=========== current Step - step \",state.step)\n  console.log(resources)\n  if (!resources) return \"resources not found\"\n  if (resources == \"NO_DATA_FOUND\") return \"resources not found\"\n\n  // =================== NAVIGATION  ==================\n\n  const setCurrentStep = (step) => {   \n    console.log(\"=========== setCurrentStep - step \",step)\n    setState({...state, step: step})\n  }\n\n  const tryAgain = (e) => {\n    setState({...state, step: whichTreatmentSteps.QUESTION_POSED})\n  }\n\n  const answerSelected = (e) => {\n    if (e.currentTarget.id) {\n      console.log(\"========== e.currentTarget.id ========\",e.currentTarget.id)\n      switch (e.currentTarget.id) {\n          case (whichTreatmentSteps.CORRECT_VETMEDIN):\n               console.log(\"answerSelected - ichTreatmentSteps.CORRECT_VETMEDIN\")\n                setCurrentStep(whichTreatmentSteps.CORRECT_VETMEDIN)\n          break\n          case (whichTreatmentSteps.INCORRECT_ANSWER_ACE):\n                setCurrentStep(whichTreatmentSteps.INCORRECT_ANSWER_ACE)\n          break\n          case (whichTreatmentSteps.INCORRECT_ANSWER_ALL_DIURETICS):\n                setCurrentStep(whichTreatmentSteps.INCORRECT_ANSWER_ALL_DIURETICS)\n          break\n          case (whichTreatmentSteps.INCORRECT_ANSWER_SPIRO):\n            setCurrentStep(whichTreatmentSteps.INCORRECT_ANSWER_SPIRO)\n          break\n          default:\n              console.log(\"no matching id on question button\")\n              setCurrentStep(whichTreatmentSteps.QUESTION_POSED)\n      }\n    } else {\n      console.log(\"no id on question button\")\n      setCurrentStep(whichTreatmentSteps.QUESTION_POSED)\n    }\n    \n  }\n\n  const handleLeftClick = (e) => {\n      console.log(\"handleLeftClick\")\n  }\n\n  const handleRightClick = (e) => {\n      console.log(\"handleRightClick\")\n  }\n\n \n  if (typeof resources === 'undefined' || typeof resources === undefined || typeof resources === null) return (\n    <Layout headerText={\"SORRY TEMPORARILY UNAVAILABLE\"} showPercentIndicator={true}>\n    <BottomNavigationLink to={\"/\"}\n        distanceFromSide={\"2%\"}\n        bottom={\"2%\"}\n        linkText={\"Home\"}\n    /> \n    </Layout>\n)\n\n  return (\n    <Layout headerText={replaceDogName(\"Poppy has a grade 3 mitral valve murmur\",dogChoice)} showPercentIndicator={true}>\n\n     {((whichTreatmentSteps.CORRECT_VETMEDIN === state.step)) ?\n      <BottomNavigationLink to={\"/owner-treatment-options/\"}\n                  distanceFromSide={\"2%\"}\n                  bottom={\"2%\"}\n                  direction={bottomNavigationLinkDirection.FORWARD}\n                  linkText={\"Continue\"}\n      /> : '' }\n\n      <div className={(useStyles()).root} style={{position: 'relative', zIndex:'1 !important'}}>\n\n           { (whichTreatmentSteps.QUESTION_POSED  === state.step) ? \n           <WhichTreatmentQuestionResponseLayout type={slideTypes.QUESTION_POSED} resources={resources} dogChoice={dogChoice} navigationLeftHandler={handleLeftClick} navigationRightHandler={answerSelected} /> : '' }\n           \n           { (whichTreatmentSteps.CORRECT_VETMEDIN === state.step) ? \n           <WhichTreatmentQuestionResponseLayout type={slideTypes.ANSWER_WITH_VIDEO} resources={resources} dogChoice={dogChoice} navigationLeftHandler={handleLeftClick} navigationRightHandler={handleRightClick} /> : '' }\n         \n           { (whichTreatmentSteps.INCORRECT_ANSWER_ACE === state.step) ? \n           <WhichTreatmentQuestionResponseLayout type={slideTypes.ANSWER_NO_VIDEO} resources={resources} dogChoice={dogChoice} navigationLeftHandler={handleLeftClick} navigationRightHandler={tryAgain} /> : '' }\n            { (whichTreatmentSteps.INCORRECT_ANSWER_ALL_DIURETICS === state.step) ? \n           <WhichTreatmentQuestionResponseLayout type={slideTypes.ANSWER_NO_VIDEO} resources={resources} dogChoice={dogChoice} navigationLeftHandler={handleLeftClick} navigationRightHandler={tryAgain} /> : '' }\n            { (whichTreatmentSteps.INCORRECT_ANSWER_SPIRO === state.step) ? \n           <WhichTreatmentQuestionResponseLayout type={slideTypes.ANSWER_NO_VIDEO} resources={resources} dogChoice={dogChoice} navigationLeftHandler={handleLeftClick} navigationRightHandler={tryAgain} /> : '' }\n       \n      </div>\n  </Layout>\n\n)}\n\nconst WhichTreatmentQuestionResponseLayout = ({type = slideTypes.QUESTION_POSED, resources, navigationLeftHandler, navigationRightHandler, dogChoice }) => {\n  //debugger\n  let buttonLinks = []\n  if (resources.field_buttonlinks && resources.field_buttonlinks.length > 0) {\n     // this get over ridden\n     buttonLinks = resources.field_buttonlinks\n  }\n\n  console.log(\"WhichTreatmentQuestionResponseLayout \",resources)\n\n  let resourcesProcessed = {}\n  switch (type) {\n      case slideTypes.ANSWER_WITH_VIDEO:\n      case slideTypes.ANSWER_NO_VIDEO:\n\n                const isCorrectAnswer = resources.field_iscorrectanswer[0] === \"yes\" ? true : false\n\n                buttonLinks = [{}]\n\n                if (isCorrectAnswer === false) {\n\n                  buttonLinks[0].id = whichTreatmentSteps.QUESTION_POSED\n                  buttonLinks[0].title = \"Try again\"\n                  buttonLinks[0].url = \"/\"\n                  buttonLinks[0].onClickHandler = navigationRightHandler\n                  buttonLinks[0].buttonType = legacyButtonTypes.DARK_BLUE_ROUNDED\n  \n            }\n  \n            let videoData = getVideoData(resources, dogChoice)\n  \n      \n            resourcesProcessed = {\n                questionText: '',\n                answerHeader: resources.field_answerheader ? processField(resources.field_answerheader,dogChoice,false) : '',\n                answerText: resources.field_answertext ? processField(resources.field_answertext,dogChoice,true) : '',\n                additionalText: resources.field_additionalbodytext ? processField(resources.field_additionalbodytext,dogChoice,true) : '',\n                isCorrectAnswer: resources.field_iscorrectanswer[0],\n                mainImage: getDogImageName(animationCharacterState.HAPPY,dogChoice),\n                slugName: whichTreatmentSlugNames.CORRECT_VETMEDIN,\n                continueLink: {uri: '/',title:'Continue',url:'/'},\n                backLink: {uri: '/',title:'Back',url:'/'},\n                accessibilityVideoText: '',\n                buttonLinks: buttonLinks,\n                dogChoice:dogChoice\n            }\n  \n         \n            resourcesProcessed = updateSlideDataWithVideoData(resourcesProcessed,videoData)\n            \n        \n           break\n      case slideTypes.QUESTION_POSED:\n                // =========== NORMALISE DRUPAL DATA ========\n\n                buttonLinks = [{},{},{},{},{},{}]\n\n                buttonLinks[0].id = whichTreatmentSteps.CORRECT_VETMEDIN\n                buttonLinks[0].title = \"Vetmedin®\"//(pimobendan)\n                buttonLinks[0].url = \"/\"\n\n                buttonLinks[1].id = whichTreatmentSteps.INCORRECT_ANSWER_ALL_DIURETICS\n                buttonLinks[1].title = \"Diuretics\"\n                buttonLinks[1].url = \"/\"\n\n                buttonLinks[2].id = whichTreatmentSteps.INCORRECT_ANSWER_SPIRO\n                buttonLinks[2].title = \"Spironolactone\"\n                buttonLinks[2].url = \"/\"\n\n                buttonLinks[3].id = whichTreatmentSteps.INCORRECT_ANSWER_ACE\n                buttonLinks[3].title = \"ACE inhibitors\"\n                buttonLinks[3].url = \"/\"\n\n                let videoDataB = getVideoData(resources, dogChoice)\n\n\n                resourcesProcessed = {\n                 \n                  questionText: resources.field_questiontext ? processField(resources.field_questiontext,dogChoice,false) : '',\n                  additionalText: resources.field_additionalbodytext ? processField(resources.field_additionalbodytext,dogChoice,true) :``,\n                  slugName: whichTreatmentSteps.QUESTION_POSED,\n                  accessibilityVideoText: '',\n                  animationVideoName: getDogVideo(animationCharacterState.NEUTRAL,dogChoice),\n      \n                  isCorrect1: resources.field_optioniscorrect1,\n                  optionsHeader1:processField(resources.field_optionsheader1,dogChoice,false),\n                  optionsBodyText1:processField(resources.field_optionsbodytext1,dogChoice,true),\n                  isCorrect2: resources.field_optioniscorrect2,\n                  optionsHeader2: \"GRADE 2\", //  processField(resources.field_optionsheader2,dogChoice,false),\n                  optionsBodyText2:processField(resources.field_optionsbodytext2,dogChoice,true),\n                  isCorrect3: resources.field_optioniscorrect3,\n                  optionsHeader3:\"GRADE 3\", //  processField(resources.field_optionsheader3,dogChoice,false),\n                  optionsBodyText3:processField(resources.field_optionsbodytext3,dogChoice,true),\n                  isCorrect4: resources.field_optioniscorrect4,\n                  optionsHeader4:\"GRADE 4\", //  processField(resources.field_optionsheader4,dogChoice,false),\n                  optionsBodyText4:processField(resources.field_optionsbodytext4,dogChoice,true),\n                  isCorrect5: resources.field_optioniscorrect5,\n                  optionsHeader5:\"GRADE 5\", //  processField(resources.field_optionsheader5,dogChoice,false),\n                  optionsBodyText5:processField(resources.field_optionsbodytext5,dogChoice,true),\n                  isCorrect6: resources.field_optioniscorrect6,\n                  optionsHeader6:\"GRADE 6\", //  processField(resources.field_optionsheader6,dogChoice,false),\n                  optionsBodyText6:processField(resources.field_optionsbodytext6,dogChoice,true),\n      \n                  buttonLinks: buttonLinks,\n                  dogChoice:dogChoice\n           \n           }\n   \n           resourcesProcessed = updateSlideDataWithVideoData(resourcesProcessed,videoDataB)\n          break\n    default:\n         return \"type not found\"\n  }\n\n  const ref = React.createRef();\n\n  return (\n    <section>\n   \n    <Grid container  \n    spacing={0} \n    spacing={0} \n    justify=\"center\" \n    style={{border: '0px solid black'}}>\n   \n      <Grid item xs={12} sm={1}  align=\"left\" style={{border: '0px solid red'}}></Grid>\n\n      <Grid item xs={12} sm={5}  align=\"center\" style={{border: '0px solid red'}}>\n       \n          <FixedSizeVideoWidget autoPlay=\"true\" ref={ref} data={resourcesProcessed} /> \n       \n      </Grid>\n\n      <Grid item xs={12} sm={5}  align=\"left\" style={{ border: '0px solid red' }}>\n        {(type === slideTypes.QUESTION_POSED) ?\n          <QuestionPosed data={resourcesProcessed} currentSlidePosition={0} onClickHandler={navigationRightHandler} dogChoice={dogChoice} useVideoWidget={resourcesProcessed.useVideoWidget} /> : ''\n        }\n\n        {(type === slideTypes.ANSWER_WITH_VIDEO || type === slideTypes.ANSWER_NO_VIDEO) ?\n          <QuestionResponse data={resourcesProcessed} currentSlidePosition={0} onClickHandler={navigationLeftHandler} dogChoice={dogChoice} useVideoWidget={resourcesProcessed.useVideoWidget} /> :''\n        }\n            \n      </Grid>\n\n      <Grid item xs={12} sm={1}  align=\"left\" style={{border: '0px solid red'}}></Grid>\n\n    </Grid>\n    </section>\n  )\n}\n\nexport default NextSteps\n\nexport const pageQuery = graphql`\n  {\n    allNodeQuestion {\n      nodes {\n        created(fromNow: false)\n        drupal_id\n        field_accessibilityvideotext\n        field_additionalbodytext {\n          processed\n        }\n        field_animationvideoname\n        field_backlink {\n          title\n          uri\n        }\n        field_buttonlinks {\n          title\n          uri\n        }\n        field_continuelink {\n          title\n          uri\n        }\n        field_instructionstext {\n          processed\n        }\n        field_optioniscorrect1\n        field_optioniscorrect2\n        field_optioniscorrect3\n        field_optioniscorrect4\n        field_optioniscorrect5\n        field_optioniscorrect6\n        field_optionlink1 {\n          title\n          uri\n        }\n        field_optionsbodytext1 {\n          processed\n        }\n        field_optionsbodytext2 {\n          processed\n        }\n        field_optionsbodytext3 {\n          processed\n        }\n        field_optionsbodytext4 {\n          processed\n        }\n        field_optionsbodytext5 {\n          processed\n        }\n        field_optionsbodytext6 {\n          processed\n        }\n        field_optionsheader1\n        field_progresspercent\n        field_questiontext {\n          processed\n        }\n        path {\n          alias\n        }\n      }\n    }\n    allNodeAnswer {\n    nodes {\n      drupal_id\n      created(fromNow: false)\n      field_accessibilityvideotext\n      field_additionalbodytext {\n        processed\n      }\n      field_animationvideoname\n      field_answerheader\n      field_answertext {\n        processed\n      }\n      field_buttonlinks {\n        title\n        uri\n      }\n      field_continuelink {\n        title\n        uri\n      }\n      field_iscorrectanswer\n      field_progresspercent\n      field_slugname\n      field_topheadertext {\n        processed\n      }\n      field_videocaptiontext1 {\n        processed\n      }\n      field_videoduration1\n      field_videonarrator1\n      field_videoposterimage1 {\n        width\n        alt\n        height\n        title\n      }\n      field_videothumbnail1 {\n        alt\n        height\n        title\n        width\n      }\n      path {\n        alias\n      }\n      field_videocaptiontext2 {\n        processed\n      }\n      field_videocaptiontext3 {\n        processed\n      }\n      field_videofordog1\n      field_videofordog2\n      field_videofordog3\n      field_videonarrator2\n      field_videonarrator3\n      field_videoposterimage2 {\n        alt\n        height\n        title\n        width\n      }\n      field_videoposterimage3 {\n        alt\n        height\n        title\n        width\n      }\n      field_videothumbnail2 {\n        alt\n        height\n        title\n        width\n      }\n      field_videotitle1 {\n        processed\n      }\n      field_videotitle2 {\n        processed\n      }\n      field_videotitle3 {\n        processed\n      }\n      relationships {\n        field_video1 {\n          relationships {\n            field_media_video_file {\n              localFile {\n                url\n                internal {\n                  content\n                  description\n                  ignoreType\n                  mediaType\n                }\n              }\n              filesize\n              filename\n              uri {\n                value\n                url\n              }\n            }\n          }\n        }\n        field_video2 {\n          relationships {\n            field_media_video_file {\n              localFile {\n                url\n              }\n              uri {\n                url\n                value\n              }\n            }\n          }\n        }\n        field_videoposterimage1 {\n          localFile {\n            url\n          }\n        }\n        field_videoposterimage2 {\n          localFile {\n            url\n          }\n        }\n        field_videoposterimage3 {\n          localFile {\n            url\n          }\n        }\n        field_videothumbnail1 {\n          localFile {\n            url\n          }\n        }\n        field_videothumbnail2 {\n          localFile {\n            url\n          }\n        }\n        field_videothumbnail3 {\n          localFile {\n            url\n          }\n        }\n        field_video3 {\n          relationships {\n            field_media_video_file {\n              localFile {\n                url\n              }\n              uri {\n                url\n                value\n              }\n            }\n          }\n        }\n      }\n      field_videonarratorlocation1 {\n        processed\n      }\n      field_videonarratorlocation2 {\n        processed\n      }\n      field_videonarratorlocation3 {\n        processed\n      }\n      field_videonarratorprofession1 {\n        processed\n      }\n      field_videonarratorprofession2 {\n        processed\n      }\n      field_videonarratorprofession3 {\n        processed\n      }\n      field_videoduration3\n      field_videoduration2\n      field_videothumbnail3 {\n        alt\n        height\n        title\n        width\n      }\n    }\n  }\n  }\n  `\n\n\n\n"],"sourceRoot":""}